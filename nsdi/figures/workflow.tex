\documentclass[a4paper,18pt]{article}

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage[ansinew]{inputenc}
\usepackage{libertine}
\usepackage[italic]{mathastext}
\usepackage{amsmath,amsthm,amsfonts}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{subcaption}

\usetikzlibrary{shapes,arrows,shadows}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{automata,positioning,arrows,matrix,backgrounds,calc}
\usetikzlibrary{decorations.text}
\usetikzlibrary{decorations.pathmorphing}

\usepackage[active,tightpage]{preview}
\usepackage{xparse}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{0pt}%

\usetikzlibrary{fit}					% fitting shapes to coordinates
\usetikzlibrary{backgrounds}	% drawing the background after the foreground
\usetikzlibrary{calc}

\renewcommand*{\familydefault}{\sfdefault}% Let's have a sans serif font

\begin{document}

\tikzstyle{block}=[rectangle, draw, fill=white, minimum height=6ex,text width=4em, text centered, inner sep=1pt]
\tikzstyle{textbox}=[text width=2em, text centered, text width=3em]
  \tikzstyle{line}=[draw, very thick, color=black!75, -latex']
  \tikzstyle{empty}=[]
    \begin{tikzpicture}[node distance=5em, auto]
      % Place nodes
      \node (source) [textbox] {$\mu$P4 source};
      \node (frontend) [block, text width=4em, right of=source,] {frontend pass};

      \node (box) [block, dashed, right of=frontend, text width=25.5em, node distance=6em, minimum height=10ex,anchor=west] {};
      \node (box2) at ($(box.east)+(0.2,0)$) [block, dashed, text width=21em, minimum height=10ex,anchor=west] {};

      \node (linking)at ($(frontend.east)+(1.5,0)$) [block, anchor=west] {linking};
      \node (static) [block, right of=linking, node distance=5.5em] {static analysis};
      \node (transformation) at ($(static.east)+(0.4,0)$) [block, text width=6.5em, anchor=west] {transformation to match-action control};
      \node (preprocessing) at ($(transformation.east)+(0.5,0)$) [block, text width=5.5em, anchor=west] {preprocessing for backend};

      \node (targetspecific) at ($(preprocessing.east)+(0.7,0)$) [block, text width=11em, anchor=west] {target-specific  translation \& control-block allocation};
      \node (parse) at ($(targetspecific.east)+(0.5,0)$) [block, text width=7em, anchor=west] {parser/deparser synthesis};

      \node (targetcode) at ($(box2.east)+(0.4,0)$) [textbox, text
        width=7em, anchor=west, inner sep=-2pt] {target architecture-specific code (arch-IR)};

      \node (midendlabeel) at ($(box.north)+(0,0.2)$) [empty] {midend pass};
      \node (backendlabeel) at ($(box2.north)+(0,0.2)$) [empty] {backend pass};


      \node (library) at ($(linking.north)+(0,0.4)$) [textbox, anchor=south,text width=16em] {library modules ($\mu$P4C-IR)};
      % Draw edges
      \path [line] (source) -- (frontend);
      \path [line] (frontend) -- (linking) node[midway]{$\mu$P4C-IR};
      \path [line] (linking) -- (static);
      \path [line] (static) -- (transformation);
      \path [line] (transformation) -- (preprocessing);
      \path [line,-] (preprocessing) -- (box.east);
      \path [line] (box.east) -- (targetspecific.west);
      \path [line] (targetspecific) -- (parse);
      \path [line] (parse) -- (targetcode);
      \path [line] (library) -- (linking);

    \end{tikzpicture}
\end{document}
