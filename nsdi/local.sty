\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[inline]{enumitem}
\usepackage{xcolor}
\usepackage{color}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{float}
\usepackage{listings, multicol}
\usepackage{appendix}
\usepackage{xspace}
\usepackage{tikz}
\usepackage[normalem]{ulem}

% fonts
\usepackage[T1]{fontenc}
\usepackage{libertine}
\usepackage{inconsolata}

\usepackage[italic]{mathastext}
\graphicspath{{figures/}}

\hypersetup{
  colorlinks,
  linkcolor={green!0!black},
  citecolor={red!0!black},
  urlcolor={blue!0!black}
}

\lstdefinelanguage{P4}{
  keywords={in, out, struct, inout, function, return, switch, exact, lpm, const, entries, enum, if, else, case, break, extern, void, bit, error, int, verify, bool, key, table, action, actions, parser, control, state, transition, select, apply, true, false},
  keywordstyle=\color{blue},
  keywords=[2]{boolean, string, number, objectid},
  keywordstyle=[2]\color{green}\bfseries,
  identifierstyle=\color{darkgray},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{commentcolor}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstset{
   language=P4,
%    numbers=left,
%    backgroundcolor=\color{mygray},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily\color{black},
   showstringspaces=false,
   showspaces=false,
   tabsize=2,
   frame=single,
   breaklines=true,
   showtabs=false,
}
\definecolor{mygray}{rgb}{0.9,0.9,0.9}
\definecolor{commentcolor}{RGB}{0,100,0}
\definecolor{myk}{rgb}{0.0,0,0.65}

\definecolor{parser-green}{RGB}{56, 87, 35}
\definecolor{parser-red}{RGB}{255, 0, 0}

\usepackage[capitalise]{cleveref}
\crefformat{section}{\S#2#1#3} % see manual of cleveref, section 8.2.1
\crefformat{subsection}{\S#2#1#3}
\crefformat{subsubsection}{\S#2#1#3}

\newcommand{\jnf}[1]{\textcolor{purple}{[#1 --JNF]}}

\definecolor{ao}{rgb}{0.0, 0.5, 0.0}
\newcommand{\refine}[1]{{\color{ao}{#1}}}
\newcommand{\hs}[1]{{\color{blue}{[HS: #1]}}}
\newcommand{\hse}[1]{{\color{blue}{#1}}}

\newcommand{\todo}[1]{{\color{red}{TODO: #1}}}
\newcommand{\deleted}[1]{{}}

% Define custom macros
\newcommand{\ulang}{$\mu$P4\xspace}
\newcommand{\uarch}{$\mu$SA\xspace}
\newcommand{\ucomp}{$\mu$P4C\xspace}
\newcommand{\uprogram}{$\mu$-program\xspace}
\newcommand{\uprograms}{$\mu$-programs\xspace}
\newcommand{\uswitch}{$\mu$Switch\xspace}
\newcommand{\upipeline}{$\mu$-pipeline\xspace}
\newcommand{\upipelines}{$\mu$-pipelines\xspace}
\newcommand{\upackage}{$\mu$-package\xspace}
\newcommand{\upackages}{$\mu$-packages\xspace}


\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}
\setenumerate{noitemsep,leftmargin=*,topsep=0pt,parsep=0pt,partopsep=0pt}

\def\UrlBreaks{\do\/\do-\do.\do\_}
\newcommand{\tightpar}[1]{\par\smallskip\noindent\textit{#1}~}
\newcommand{\tightparbf}[1]{\par\smallskip\noindent\textbf{#1}~}
